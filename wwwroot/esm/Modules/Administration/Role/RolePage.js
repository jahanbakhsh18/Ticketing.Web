import{a as R,b as D}from"../../../_chunks/chunk-JLNNQIBG.js";import{c as i}from"../../../_chunks/chunk-OQHS72KN.js";import{d as v,e as g,f as y,g as r,h as d}from"../../../_chunks/chunk-HURNHUUS.js";import{a as P}from"../../../_chunks/chunk-WRJRVQ7L.js";import"../../../_chunks/chunk-TA7MABRS.js";import{a as c}from"../../../_chunks/chunk-6YUMKNYN.js";import{c as t,f as m,g as a}from"../../../_chunks/chunk-RKUHNEJF.js";var k=m(a(),1);var T=m(a(),1);var b=m(a(),1);var e=m(a(),1);async function x(f){let o,l=(await y.List({RoleID:f.roleID})).Entities,B=await(0,e.getRemoteDataAsync)(R.Administration.ImplicitPermissions);new e.Dialog({dialogClass:"s-RolePermissionDialog",title:(0,e.stringFormat)(i.DialogTitle,f.roleName),buttons:[(0,e.okDialogButton)({click:t(async()=>{await y.Update({RoleID:f.roleID,Permissions:o.valueAsStrings}),(0,e.notifySuccess)(i.SaveSuccess)},"click")}),(0,e.cancelDialogButton)()],element:t(E=>E.appendChild(P(D,{ref:N=>o=N,showRevoke:!1,value:l,implicitPermissions:B})),"element")})}t(x,"RolePermissionDialog");var I="edit-permissions",h,S,s=class s extends(S=b.EntityDialog,h=Symbol.typeInfo,S){constructor(){super(...arguments);this.form=new g(this.idPrefix)}getFormKey(){return g.formKey}getIdProperty(){return r.idProperty}getLocalTextPrefix(){return r.localTextPrefix}getNameProperty(){return r.nameProperty}getService(){return d.baseUrl}getToolbarButtons(){let l=super.getToolbarButtons();return l.push({title:i.EditButton,cssClass:I,icon:"fa-lock text-green",onClick:t(()=>{x({roleID:this.entity.RoleId,roleName:this.entity.RoleName})},"onClick")}),l}updateInterface(){super.updateInterface(),this.toolbar.findButton(I).toggleClass("disabled",this.isNewOrDeleted())}};t(s,"RoleDialog"),s[h]=s.registerClass(c);var p=s;var C,w,n=class n extends(w=T.EntityGrid,C=Symbol.typeInfo,w){getColumnsKey(){return v.columnsKey}getDialogType(){return p}getIdProperty(){return r.idProperty}getLocalTextPrefix(){return r.localTextPrefix}getService(){return d.baseUrl}constructor(o){super(o)}getDefaultSortBy(){return[r.Fields.RoleName]}};t(n,"RoleGrid"),n[C]=n.registerClass(c);var u=n;var G=t(()=>(0,k.gridPageInit)(u),"default");export{G as default};
//# sourceMappingURL=RolePage.js.map
