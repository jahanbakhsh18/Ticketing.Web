{
  "version": 3,
  "sources": ["../../../../../Modules/Administration/Role/RolePage.ts", "../../../../../Modules/Administration/Role/RoleGrid.ts", "../../../../../Modules/Administration/Role/RoleDialog.ts", "../../../../../Modules/Administration/RolePermission/RolePermissionDialog.tsx"],
  "sourcesContent": ["import { gridPageInit } from \"@serenity-is/corelib\";\nimport { RoleGrid } from \"./RoleGrid\";\n\nexport default () => gridPageInit(RoleGrid);", "import { EntityGrid } from \"@serenity-is/corelib\";\nimport { RoleColumns, RoleRow, RoleService } from \"../../ServerTypes/Administration\";\nimport { nsAdministration } from \"../../ServerTypes/Namespaces\";\nimport { RoleDialog } from \"./RoleDialog\";\n\nexport class RoleGrid extends EntityGrid<RoleRow, any> {\n    static override[Symbol.typeInfo] = this.registerClass(nsAdministration);\n\n    protected override getColumnsKey() { return RoleColumns.columnsKey; }\n    protected override getDialogType() { return RoleDialog; }\n    protected override getIdProperty() { return RoleRow.idProperty; }\n    protected override getLocalTextPrefix() { return RoleRow.localTextPrefix; }\n    protected override getService() { return RoleService.baseUrl; }\n\n    constructor(props: any) {\n        super(props);\n    }\n\n    protected override getDefaultSortBy() {\n        return [RoleRow.Fields.RoleName];\n    }\n}", "import { EntityDialog } from \"@serenity-is/corelib\";\nimport { RoleForm, RoleRow, RoleService } from \"../../ServerTypes/Administration\";\nimport { nsAdministration } from \"../../ServerTypes/Namespaces\";\nimport { RolePermissionDialogTexts } from \"../../ServerTypes/Texts\";\nimport { RolePermissionDialog } from \"../RolePermission/RolePermissionDialog\";\n\nconst editPermissions = \"edit-permissions\";\n\nexport class RoleDialog extends EntityDialog<RoleRow, any> {\n    static override[Symbol.typeInfo] = this.registerClass(nsAdministration);\n\n    protected override getFormKey() { return RoleForm.formKey; }\n    protected override getIdProperty() { return RoleRow.idProperty; }\n    protected override getLocalTextPrefix() { return RoleRow.localTextPrefix; }\n    protected override getNameProperty() { return RoleRow.nameProperty; }\n    protected override getService() { return RoleService.baseUrl; }\n\n    protected form = new RoleForm(this.idPrefix);\n\n    protected override getToolbarButtons() {\n        let buttons = super.getToolbarButtons();\n\n        buttons.push({\n            title: RolePermissionDialogTexts.EditButton,\n            cssClass: editPermissions,\n            icon: 'fa-lock text-green',\n            onClick: () => {\n                RolePermissionDialog({\n                    roleID: this.entity.RoleId,\n                    roleName: this.entity.RoleName\n                });\n            }\n        });\n\n        return buttons;\n    }\n\n    protected override updateInterface() {\n        super.updateInterface();\n\n        this.toolbar.findButton(editPermissions).toggleClass(\"disabled\", this.isNewOrDeleted());\n    }\n}", "import { Dialog, cancelDialogButton, getRemoteDataAsync, notifySuccess, okDialogButton, stringFormat } from \"@serenity-is/corelib\";\nimport { RolePermissionService } from \"../../ServerTypes/Administration\";\nimport { RemoteDataKeys } from \"../../ServerTypes/RemoteDataKeys\";\nimport { RolePermissionDialogTexts } from \"../../ServerTypes/Texts\";\nimport { PermissionCheckEditor } from \"../UserPermission/PermissionCheckEditor\";\n\nexport async function RolePermissionDialog(props: {\n    roleID?: number,\n    roleName?: string,\n}) {\n    let checkEditor: PermissionCheckEditor;\n    let permissions = (await RolePermissionService.List({ RoleID: props.roleID, })).Entities;\n    let implicitPermissions = await getRemoteDataAsync<Record<string, string[]>>(RemoteDataKeys.Administration.ImplicitPermissions);\n\n    new Dialog({\n        dialogClass: \"s-RolePermissionDialog\",\n        title: stringFormat(RolePermissionDialogTexts.DialogTitle, props.roleName),\n        buttons: [\n            okDialogButton({\n                click: async () => {\n                    await RolePermissionService.Update({\n                        RoleID: props.roleID,\n                        Permissions: checkEditor.valueAsStrings\n                    });\n                    notifySuccess(RolePermissionDialogTexts.SaveSuccess);\n                }\n            }),\n            cancelDialogButton()\n        ],\n        element: el => el.appendChild(<PermissionCheckEditor ref={w => checkEditor = w}\n            showRevoke={false} value={permissions} implicitPermissions={implicitPermissions} />)\n    });\n}"],
  "mappings": "saAAA,IAAAA,EAA6B,SCA7B,IAAAC,EAA2B,SCA3B,IAAAC,EAA6B,SCA7B,IAAAC,EAA4G,SAM5G,eAAsBC,EAAqBC,EAGxC,CACC,IAAIC,EACAC,GAAe,MAAMC,EAAsB,KAAK,CAAE,OAAQH,EAAM,MAAQ,CAAC,GAAG,SAC5EI,EAAsB,QAAM,sBAA6CC,EAAe,eAAe,mBAAmB,EAE9H,IAAI,SAAO,CACP,YAAa,yBACb,SAAO,gBAAaC,EAA0B,YAAaN,EAAM,QAAQ,EACzE,QAAS,IACL,kBAAe,CACX,MAAOO,EAAA,SAAY,CACf,MAAMJ,EAAsB,OAAO,CAC/B,OAAQH,EAAM,OACd,YAAaC,EAAY,cAC7B,CAAC,KACD,iBAAcK,EAA0B,WAAW,CACvD,EANO,QAOX,CAAC,KACD,sBAAmB,CACvB,EACA,QAASC,EAAAC,GAAMA,EAAG,YAAYC,EAACC,EAAA,CAAsB,IAAKC,GAAKV,EAAcU,EACzE,WAAY,GAAO,MAAOT,EAAa,oBAAqBE,EAAqB,CAAE,EAD9E,UAEb,CAAC,CACL,CA1BsBG,EAAAR,EAAA,wBDAtB,IAAMa,EAAkB,mBANxBC,EAAAC,EAQaC,EAAN,MAAMA,UAAmBD,EAAA,eACZD,EAAA,OAAO,SADKC,EAA2B,CAApD,kCASH,KAAU,KAAO,IAAIE,EAAS,KAAK,QAAQ,EANxB,YAAa,CAAE,OAAOA,EAAS,OAAS,CACxC,eAAgB,CAAE,OAAOC,EAAQ,UAAY,CAC7C,oBAAqB,CAAE,OAAOA,EAAQ,eAAiB,CACvD,iBAAkB,CAAE,OAAOA,EAAQ,YAAc,CACjD,YAAa,CAAE,OAAOC,EAAY,OAAS,CAI3C,mBAAoB,CACnC,IAAIC,EAAU,MAAM,kBAAkB,EAEtC,OAAAA,EAAQ,KAAK,CACT,MAAOC,EAA0B,WACjC,SAAUR,EACV,KAAM,qBACN,QAASS,EAAA,IAAM,CACXC,EAAqB,CACjB,OAAQ,KAAK,OAAO,OACpB,SAAU,KAAK,OAAO,QAC1B,CAAC,CACL,EALS,UAMb,CAAC,EAEMH,CACX,CAEmB,iBAAkB,CACjC,MAAM,gBAAgB,EAEtB,KAAK,QAAQ,WAAWP,CAAe,EAAE,YAAY,WAAY,KAAK,eAAe,CAAC,CAC1F,CACJ,EAlC2DS,EAAAN,EAAA,cAA9CA,EACOF,GAAmBE,EAAK,cAAcQ,CAAgB,EADnE,IAAMC,EAANT,EDRP,IAAAU,EAAAC,EAKaC,EAAN,MAAMA,UAAiBD,EAAA,aACVD,EAAA,OAAO,SADGC,EAAyB,CAGhC,eAAgB,CAAE,OAAOE,EAAY,UAAY,CACjD,eAAgB,CAAE,OAAOC,CAAY,CACrC,eAAgB,CAAE,OAAOC,EAAQ,UAAY,CAC7C,oBAAqB,CAAE,OAAOA,EAAQ,eAAiB,CACvD,YAAa,CAAE,OAAOC,EAAY,OAAS,CAE9D,YAAYC,EAAY,CACpB,MAAMA,CAAK,CACf,CAEmB,kBAAmB,CAClC,MAAO,CAACF,EAAQ,OAAO,QAAQ,CACnC,CACJ,EAhBuDG,EAAAN,EAAA,YAA1CA,EACOF,GAAmBE,EAAK,cAAcO,CAAgB,EADnE,IAAMC,EAANR,EDFP,IAAOS,EAAQC,EAAA,OAAM,gBAAaC,CAAQ,EAA3B",
  "names": ["import_corelib", "import_corelib", "import_corelib", "import_corelib", "RolePermissionDialog", "props", "checkEditor", "permissions", "RolePermissionService", "implicitPermissions", "RemoteDataKeys", "RolePermissionDialogTexts", "__name", "el", "jsx", "PermissionCheckEditor", "w", "editPermissions", "_a", "_b", "_RoleDialog", "RoleForm", "RoleRow", "RoleService", "buttons", "RolePermissionDialogTexts", "__name", "RolePermissionDialog", "nsAdministration", "RoleDialog", "_a", "_b", "_RoleGrid", "RoleColumns", "RoleDialog", "RoleRow", "RoleService", "props", "__name", "nsAdministration", "RoleGrid", "RolePage_default", "__name", "RoleGrid"]
}
